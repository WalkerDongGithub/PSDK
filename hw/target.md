# 六月成果

六月上半个月主要是学习和调研，调研包括：

1. Scala 和 Chisel 的详细的语法、开发范式等内容，尤其是与Chisel源代码有关的部分。
2. Rocket-Chip 的代码架构设计，包括参数系统、以及一些具体的Scala开发策略。
3. Rethink 之前的 RAPID 硬件开发设计的不足，包括开发流程、参数化设计的不足、如何通过Scala提高代码复用性等。

下半月主要是代码，选择一个适合交换机设计的面向对象开发范式，具体成果包括：

1. 模块抽象的核心语义选择，即所有开发基于Containers（综合Runtime和RAPID的PHV总结的核心语义）
2. 使用Method代替之前继承Module实现模块的办法，一方面降低代码复杂性、一方面提高Chisel优化效率。
3. 各个面向不同功能以及面向不同模块连接的IO互相解耦，从而将代码修改范围降至最低。
4. 采用继承来做硬件复用，将类似于PHV pass等各个模块都可能有的部分单独抽取成父类。

但毕竟是框架设计，想办法和调研的过程要多一些。代码反而都比较短。而且目前还在写代码这一块的内容。

# 七月设计目标

七月主要是整合六月的开发组件的想法继续设计硬件开发套件

Doing：

1. 面向 Container 的开发框架设计
2. 硬件规格参数化设计
3. 使用 trait 特性进行硬件模块可扩展可复用设计

Target：

制作一个能够参数化设计交换机模型的开发框架，充分发挥Scala+Chisel的特性，缩短交换机开发的周期。
同时提供的参数化设计方案提供一套仿真-硬件协同更新的开发策略。

7.15  演示 Match 模块如何使用框架进行设计。并详细介绍使用框架进行参数化设计的设计方法。并配备相应的文档。

7.31  演示使用框架设计传统 PISA 架构的整套验证。主要是测试验证环节的框架设计，演示使用验证框架进行验证的基本方法。并配备相应的文档。